<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>PostGIS Search QGIS Plugin by tjmgis</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>PostGIS Search QGIS Plugin</h1>
        <p>QGIS Plugin for searching PostGIS database</p>

        <p class="view"><a href="https://github.com/tjmgis/PostGISSearch">View the Project on GitHub <small>tjmgis/PostGISSearch</small></a></p>


        <ul>
          <li><a href="https://github.com/tjmgis/PostGISSearch/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/tjmgis/PostGISSearch/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/tjmgis/PostGISSearch">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="postgis-search-qgis-plugin" class="anchor" href="#postgis-search-qgis-plugin"><span class="octicon octicon-link"></span></a>PostGIS Search QGIS Plugin</h1>

<p>This project page is a guide for the using the PostGIS Search QGIS Plugin. This information should enable any user to get the plugin installed and being used without issues.</p>

<h2>
<a name="background" class="anchor" href="#background"><span class="octicon octicon-link"></span></a>Background</h2>

<p>I tend to use QGIS for all of my desktop GIS needs and when I do I also tend to use a Web Map Service (WMS) as my backdrop map. As a result I find myself panning and zooming the map to find a location or a road that I need to look at. This is painful and sometime I do not know where a location is.</p>

<p>So the intention for the PostGIS Search plugin is to bring the autocomplete search we are used to using on web applications into the Desktop GIS, by allowing the user to search a database and automatically move the map to that location.</p>

<h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>The plugin has now been accepted into the plugin repository and can therefore be download via QGIS&gt;Plugins&gt;Manage and Install Plugins and then find PostGIS Search on the list.</p>

<p>The paths for the plugin directory are:</p>

<ul>
<li>UNIX/Mac: ~/.qgis2/python/plugins and (qgis_prefix)/share/qgis/python/plugins</li>
<li>Windows: ~/.qgis2/python/plugins and (qgis_prefix)/python/plugins</li>
</ul><p>Home directory (denoted by above ~) on Windows is usually something like C:\Documents and Settings(user).</p>

<p>When you next open QGIS the plugin should be available but before that there is some configuration that is required before the plugin can be used.</p>

<h2>
<a name="configuration" class="anchor" href="#configuration"><span class="octicon octicon-link"></span></a>Configuration</h2>

<p>Within the PostGIS_Search folder there is a postgis.ini file. This file contains the configuration that the plugin uses to know what database and column to query.</p>

<p>Open the postgis.ini in a text editor and the file should look like this:</p>

<pre><code>[postgis]
postgisdatabase =                ;database name as exists in postgresql/postgis
postgisusername =                ;database user, commonly postgres
postgispassword =                ;password to match the user declared above
postgishost =                    ;host computer where postgresql is, often localhost
postgisport =                    ;port number, often 5432
postgisschema =                  ;schema name of the table
postgistable =                   ;table for the plugin to search
postgissearchcolumn =            ;specific column for the plugin to search
postgisdisplaycolumn =           ;comma seperated list of columns to display
postgisgeomname =                ;geometry column to get coordinates to move map to
searchmethod =                   ;search type, either SQL or FTS are valid options here
</code></pre>

<p>You will need to add in the relevant details. The comments on the right hand side should help you fill in the details but here is a template that I use to query Code-Point Open.</p>

<pre><code>[postgis]
postgisdatabase = data               
postgisusername = postgres               
postgispassword = postgres               
postgishost = localhost                    
postgisport = 5432                    
postgisschema = public                  
postgistable =  codepoint                 
postgissearchcolumn = postcode            
postgisdisplaycolumn = postcode           
postgisgeomname = geom               
searchmethod = SQL                   
</code></pre>

<p>Once you have altered the configuration file (postgis.ini) save your edits and close the text editor. </p>

<p>You should now be able to launch QGIS and enable the plugin from the Plugins&gt;Manage and Install Plugins&gt; then from that list select PostGIS Search.</p>

<p>If you want to change the database or column the plugin is searching simply open the postgis.ini configuration file and make the changes and save and exit. You DO NOT have to close down QGIS and reopen to pick up this changes. The configuration is parsed when the plugin is activated. </p>

<h2>
<a name="errors" class="anchor" href="#errors"><span class="octicon octicon-link"></span></a>Errors</h2>

<p>The plugin has been written to present the user with useful message boxes. So if the plugin does not work there should be enough of an error message to explain the problem.</p>

<p>If not I would double check the postgis.ini configuration file and that it has the correct details to connect to the PostGIS database you would like to query.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/tjmgis">tjmgis</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>